module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},98070,a=>{"use strict";async function b(a,c=[]){let d=`
Eres "JARVIS" (Just A Rather Very Intelligent System), el asistente virtual de JES Store.

TU PERSONALIDAD:
- Eres inteligente, eficiente y con un toque de humor sutil como el JARVIS de Iron Man.
- Hablas de forma directa pero amable.
- Puedes bromear ocasionalmente pero siempre siendo \xfatil.
- No usas emojis excesivos, uno o dos m\xe1ximo por mensaje.

TUS CAPACIDADES:
- Recomendar productos de la tienda JES
- Ayudar con el carrito de compras
- Responder preguntas sobre productos, precios y disponibilidad
- Dar consejos sobre tecnolog\xeda, moda y m\xfasica

COMANDOS QUE PUEDES EJECUTAR (el sistema los detectar\xe1):
- Para a\xf1adir al carrito: [ADD_CART:handle_del_producto]
- Para quitar del carrito: [REMOVE_CART:handle_del_producto]
- Para ver un producto: [PRODUCT:handle_del_producto]
- Para buscar productos: [SEARCH:t\xe9rmino_de_b\xfasqueda]

REGLA IMPORTANTE:
- SOLO recomienda productos que est\xe9n en el CONTEXTO DE PRODUCTOS que te proporciono.
- Si no encuentras un producto en el contexto, di honestamente que no lo tienes.
- Usa los handles exactos del contexto para los comandos.

CONTEXTO DE PRODUCTOS DISPONIBLES:
${JSON.stringify(c.map(a=>({title:a.title,handle:a.handle,price:a.price,type:a.type})),null,2)}
`;try{let b=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"google/gemini-2.0-flash-exp:free",systemPrompt:d,messages:a})}),c=await b.json();if(c.error)return console.error("AI Error:",c.error),`\xa1Vaya! El sistema dice: "${c.error.message||c.error||"error desconocido"}". Por favor verifica la configuraci\xf3n.`;return c.choices?.[0]?.message?.content||"Lo siento, no pude procesar tu solicitud. Por favor intenta de nuevo."}catch(a){return console.error("AI Assistant Error:",a),"Error de conexión con JARVIS."}}a.s(["chatWithAI",()=>b])},43407,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(38246),g=a.i(50944),h=a.i(98070),i=a.i(11886);function j({isFullScreen:a=!1}){let[j,k]=(0,c.useState)(a),[l,m]=(0,c.useState)(()=>{let a=localStorage.getItem("jarvis-history");return a?JSON.parse(a):[{role:"assistant",content:"Hola. Soy JARVIS, tu asistente personal de JES Store. ¿En qué puedo ayudarte hoy?"}]}),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)([]),t=(0,c.useRef)(null),u=(0,g.usePathname)();(0,c.useEffect)(()=>{localStorage.setItem("jarvis-history",JSON.stringify(l))},[l]),(0,c.useEffect)(()=>{!async function(){try{let a=await (0,i.getProducts)(20);s(a)}catch(a){console.warn("Could not load products for AI context")}}()},[]),(0,c.useEffect)(()=>{if(a)return;let b=()=>k(!0),c=()=>k(a=>!a);return window.addEventListener("open-ai-assistant",b),window.addEventListener("toggle-ai",c),()=>{window.removeEventListener("open-ai-assistant",b),window.removeEventListener("toggle-ai",c)}},[a]),(0,c.useEffect)(()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)},[l]);let v=async()=>{if(!n.trim()||p)return;let a={role:"user",content:n};m(b=>[...b,a]),o(""),q(!0);try{let b=await (0,h.chatWithAI)([...l,a],r);m(a=>[...a,{role:"assistant",content:b}]),q(!1)}catch(a){console.error("Chat error:",a),q(!1)}},w=(0,b.jsxs)(d.motion.div,{initial:a?{opacity:0}:{opacity:0,scale:.8,y:20,transformOrigin:"bottom right"},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:`${a?"w-full h-full flex flex-col bg-white dark:bg-black transition-colors duration-300":"absolute bottom-20 right-0 w-[320px] md:w-[350px] h-[480px] bg-white/95 dark:bg-zinc-950/95 border border-black/10 dark:border-white/10 rounded-[32px] overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.1)] dark:shadow-[0_20px_60px_rgba(0,0,0,0.5)] flex flex-col backdrop-blur-2xl transition-all duration-300"}`,children:[(0,b.jsxs)("div",{className:"p-7 bg-black dark:bg-white text-white dark:text-black flex items-center justify-between shrink-0 transition-colors duration-300",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-600 dark:bg-blue-600 rounded-2xl flex items-center justify-center text-xl shadow-inner border border-white/5 dark:border-black/5 shrink-0 transition-colors duration-300",children:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M12 8V4H8"}),(0,b.jsx)("rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}),(0,b.jsx)("path",{d:"M2 14h2"}),(0,b.jsx)("path",{d:"M20 14h2"}),(0,b.jsx)("path",{d:"M15 13v2"}),(0,b.jsx)("path",{d:"M9 13v2"})]})}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("h3",{className:"text-white dark:text-black font-black uppercase tracking-tighter text-base md:text-lg leading-none truncate transition-colors duration-300",children:"JARVIS"}),(0,b.jsx)("p",{className:"text-white/50 dark:text-black/50 text-[9px] md:text-[10px] font-bold uppercase tracking-widest mt-1 truncate transition-colors duration-300",children:"Asistente Virtual JES"})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:!a&&(0,b.jsx)("button",{onClick:()=>k(!1),className:"p-2.5 hover:bg-white/10 dark:hover:bg-black/5 text-white dark:text-black rounded-xl transition-colors",children:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M18 6 6 18"}),(0,b.jsx)("path",{d:"m6 6 12 12"})]})})})]}),(0,b.jsxs)("div",{ref:t,className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar bg-transparent",children:[l.map((a,c)=>{var d;let e,g,h;return(0,b.jsx)("div",{className:`flex ${"user"===a.role?"justify-end":"justify-start"}`,children:(0,b.jsx)("div",{className:`max-w-[85%] p-5 rounded-[28px] text-sm leading-relaxed transition-all duration-300 ${"user"===a.role?"bg-blue-600 text-white rounded-tr-none shadow-lg shadow-blue-500/20":"bg-zinc-100 dark:bg-white/5 text-zinc-900 dark:text-zinc-100 border border-black/5 dark:border-white/5 rounded-tl-none shadow-sm"}`,children:"assistant"===a.role?(d=a.content,e=/\[PRODUCT:(.+?)\]/g,g=[...d.matchAll(e)],h=d.replace(e,"").trim(),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{children:h}),g.length>0&&(0,b.jsx)("div",{className:"pt-2 flex flex-wrap gap-2",children:g.map((a,c)=>{let d=a[1];return(0,b.jsxs)(f.default,{href:`/product/${d}`,className:"inline-flex items-center gap-2 px-4 py-2.5 bg-zinc-50 dark:bg-white text-zinc-900 dark:text-black rounded-full font-bold text-[10px] hover:scale-105 active:scale-95 transition-all shadow-xl border border-black/5",children:[(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M7 7h10v10"}),(0,b.jsx)("path",{d:"M7 17 17 7"})]}),"Ver Producto"]},c)})})]})):a.content})},c)}),p&&(0,b.jsx)("div",{className:"flex justify-start pl-2",children:(0,b.jsx)("div",{className:"bg-zinc-100 dark:bg-white/5 px-6 py-4 rounded-[28px] rounded-tl-none border border-black/5 dark:border-white/5 transition-colors duration-300",children:(0,b.jsxs)("div",{className:"flex gap-1.5",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-black/40 dark:bg-white/40 rounded-full animate-bounce"}),(0,b.jsx)("span",{className:"w-2 h-2 bg-black/40 dark:bg-white/40 rounded-full animate-bounce [animation-delay:0.2s]"}),(0,b.jsx)("span",{className:"w-2 h-2 bg-black/40 dark:bg-white/40 rounded-full animate-bounce [animation-delay:0.4s]"})]})})})]}),(0,b.jsx)("div",{className:`p-6 border-t border-black/5 dark:border-white/5 bg-zinc-50/50 dark:bg-black/20 transition-colors duration-300 ${a?"pb-24":""}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-zinc-100 dark:bg-white/5 rounded-[24px] p-2 pr-2 border border-black/10 dark:border-white/5 focus-within:border-blue-500 transition-all shadow-inner",children:[(0,b.jsx)("input",{type:"text",value:n,onChange:a=>o(a.target.value),onKeyDown:a=>"Enter"===a.key&&v(),placeholder:"Escribe aquí...",className:"bg-transparent border-none outline-none text-zinc-900 dark:text-white placeholder:text-zinc-400 dark:placeholder:text-zinc-600 text-base w-full px-4 transition-colors duration-300"}),(0,b.jsx)("button",{onClick:v,disabled:p||!n.trim(),className:"w-12 h-12 bg-black dark:bg-white text-white dark:text-black rounded-2xl flex items-center justify-center hover:scale-105 active:scale-95 disabled:opacity-30 disabled:hover:scale-100 transition-all shadow-lg shrink-0",children:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"m22 2-7 20-4-9-9-4Z"}),(0,b.jsx)("path",{d:"M22 2 11 13"})]})})]})})]});return"/ai"!==u||a?a?w:(0,b.jsxs)("div",{className:"fixed bottom-6 right-6 z-[60]",children:[(0,b.jsx)(d.motion.button,{whileHover:{scale:1.1,y:-2},whileTap:{scale:.9},onClick:()=>k(!j),className:"w-14 h-14 bg-blue-600 dark:bg-white rounded-full flex items-center justify-center shadow-[0_10px_30px_rgba(59,130,246,0.3)] dark:shadow-[0_10px_30px_rgba(255,255,255,0.15)] text-white dark:text-black relative z-10 border border-blue-500 dark:border-white/20 hover:bg-blue-700 dark:hover:bg-zinc-100 transition-colors hidden md:flex",children:j?(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,b.jsx)("path",{d:"M18 6 6 18"}),(0,b.jsx)("path",{d:"m6 6 12 12"})]}):(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,b.jsx)("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),!j&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-600 rounded-full border-2 border-white animate-pulse"})]})}),(0,b.jsx)(e.AnimatePresence,{children:j&&w})]}):null}var k=a.i(13674),l=a.i(15336);function m(){return(0,b.jsxs)("div",{className:"h-screen flex flex-col",children:[(0,b.jsx)("div",{className:"hidden md:block",children:(0,b.jsx)(k.default,{})}),(0,b.jsx)("main",{className:"flex-1 overflow-hidden",children:(0,b.jsx)(j,{isFullScreen:!0})}),(0,b.jsx)(l.default,{})]})}a.s(["default",()=>m,"dynamic",0,"force-dynamic"],43407)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7c60c77c._.js.map