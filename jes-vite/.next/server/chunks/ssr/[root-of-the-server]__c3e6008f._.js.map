{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../src/services/ai.js","../../../../src/components/AIAssistant.jsx","../../../../src/components/PurchaseTerminal.jsx","../../../../app/providers.js"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","const OPENROUTER_MODEL = process.env.NEXT_PUBLIC_OPENROUTER_MODEL || process.env.VITE_OPENROUTER_MODEL || \"google/learnlm-1.5-pro-experimental:free\";\r\n\r\nexport async function chatWithAI(messages, productContext = []) {\r\n    const systemPrompt = `\r\nEres \"JARVIS\" (Just A Rather Very Intelligent System), el asistente virtual de JES Store.\r\n\r\nTU PERSONALIDAD:\r\n- Eres inteligente, eficiente y con un toque de humor sutil como el JARVIS de Iron Man.\r\n- Hablas de forma directa pero amable.\r\n- Puedes bromear ocasionalmente pero siempre siendo útil.\r\n- No usas emojis excesivos, uno o dos máximo por mensaje.\r\n\r\nTUS CAPACIDADES:\r\n- Recomendar productos de la tienda JES\r\n- Ayudar con el carrito de compras\r\n- Responder preguntas sobre productos, precios y disponibilidad\r\n- Dar consejos sobre tecnología, moda y música\r\n\r\nCOMANDOS QUE PUEDES EJECUTAR (el sistema los detectará):\r\n- Para añadir al carrito: [ADD_CART:handle_del_producto]\r\n- Para quitar del carrito: [REMOVE_CART:handle_del_producto]\r\n- Para ver un producto: [PRODUCT:handle_del_producto]\r\n- Para buscar productos: [SEARCH:término_de_búsqueda]\r\n\r\nREGLA IMPORTANTE:\r\n- SOLO recomienda productos que estén en el CONTEXTO DE PRODUCTOS que te proporciono.\r\n- Si no encuentras un producto en el contexto, di honestamente que no lo tienes.\r\n- Usa los handles exactos del contexto para los comandos.\r\n\r\nCONTEXTO DE PRODUCTOS DISPONIBLES:\r\n${JSON.stringify(productContext.map(p => ({ title: p.title, handle: p.handle, price: p.price, type: p.type })), null, 2)}\r\n`;\r\n\r\n    try {\r\n        const response = await fetch(\"/api/chat\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n                model: OPENROUTER_MODEL,\r\n                systemPrompt: systemPrompt,\r\n                messages: messages\r\n            })\r\n        });\r\n\r\n        const data = await response.json();\r\n\r\n        if (data.error) {\r\n            console.error(\"AI Error:\", data.error);\r\n            return `¡Vaya! El sistema dice: \"${data.error.message || data.error || 'error desconocido'}\". Por favor verifica la configuración.`;\r\n        }\r\n\r\n        return data.choices?.[0]?.message?.content || \"Lo siento, no pude procesar tu solicitud. Por favor intenta de nuevo.\";\r\n    } catch (error) {\r\n        console.error(\"AI Assistant Error:\", error);\r\n        return \"Error de conexión con JARVIS.\";\r\n    }\r\n}\r\n","'use client';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { chatWithAI } from '../services/ai';\r\nimport { getProducts } from '../services/shopify';\r\n\r\nexport default function AIAssistant({ isFullScreen = false }) {\r\n    const [isOpen, setIsOpen] = useState(isFullScreen);\r\n    const [messages, setMessages] = useState(() => {\r\n        const saved = localStorage.getItem('jarvis-history');\r\n        if (saved) return JSON.parse(saved);\r\n        return [\r\n            { role: 'assistant', content: 'Hola. Soy JARVIS, tu asistente personal de JES Store. ¿En qué puedo ayudarte hoy?' }\r\n        ];\r\n    });\r\n    const [input, setInput] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [products, setProducts] = useState([]);\r\n    const scrollRef = useRef(null);\r\n    const pathname = usePathname();\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('jarvis-history', JSON.stringify(messages));\r\n    }, [messages]);\r\n\r\n    useEffect(() => {\r\n        async function loadContext() {\r\n            try {\r\n                const data = await getProducts(20);\r\n                setProducts(data);\r\n            } catch (e) {\r\n                console.warn(\"Could not load products for AI context\");\r\n            }\r\n        }\r\n        loadContext();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isFullScreen) return;\r\n        const handleOpen = () => setIsOpen(true);\r\n        const handleToggle = () => setIsOpen(prev => !prev);\r\n        window.addEventListener('open-ai-assistant', handleOpen);\r\n        window.addEventListener('toggle-ai', handleToggle);\r\n        return () => {\r\n            window.removeEventListener('open-ai-assistant', handleOpen);\r\n            window.removeEventListener('toggle-ai', handleToggle);\r\n        };\r\n    }, [isFullScreen]);\r\n\r\n    useEffect(() => {\r\n        if (scrollRef.current) {\r\n            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\r\n        }\r\n    }, [messages]);\r\n\r\n    const handleSend = async () => {\r\n        if (!input.trim() || loading) return;\r\n\r\n        const userMsg = { role: 'user', content: input };\r\n        setMessages(prev => [...prev, userMsg]);\r\n        setInput('');\r\n        setLoading(true);\r\n\r\n        try {\r\n            const response = await chatWithAI([...messages, userMsg], products);\r\n            setMessages(prev => [...prev, { role: 'assistant', content: response }]);\r\n            setLoading(false);\r\n        } catch (error) {\r\n            console.error(\"Chat error:\", error);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const renderMessageContent = (content) => {\r\n        const productRegex = /\\[PRODUCT:(.+?)\\]/g;\r\n        const matches = [...content.matchAll(productRegex)];\r\n        const cleanContent = content.replace(productRegex, '').trim();\r\n\r\n        return (\r\n            <div className=\"space-y-4\">\r\n                <p>{cleanContent}</p>\r\n                {matches.length > 0 && (\r\n                    <div className=\"pt-2 flex flex-wrap gap-2\">\r\n                        {matches.map((match, idx) => {\r\n                            const handle = match[1];\r\n                            return (\r\n                                <Link\r\n                                    key={idx}\r\n                                    href={`/product/${handle}`}\r\n                                    className=\"inline-flex items-center gap-2 px-4 py-2.5 bg-zinc-50 dark:bg-white text-zinc-900 dark:text-black rounded-full font-bold text-[10px] hover:scale-105 active:scale-95 transition-all shadow-xl border border-black/5\"\r\n                                >\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M7 7h10v10\" /><path d=\"M7 17 17 7\" /></svg>\r\n                                    Ver Producto\r\n                                </Link>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const chatContent = (\r\n        <motion.div\r\n            initial={!isFullScreen ? { opacity: 0, scale: 0.8, y: 20, transformOrigin: 'bottom right' } : { opacity: 0 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.8, y: 20 }}\r\n            className={`${isFullScreen\r\n                ? 'w-full h-full flex flex-col bg-white dark:bg-black transition-colors duration-300'\r\n                : 'absolute bottom-20 right-0 w-[320px] md:w-[350px] h-[480px] bg-white/95 dark:bg-zinc-950/95 border border-black/10 dark:border-white/10 rounded-[32px] overflow-hidden shadow-[0_20px_60px_rgba(0,0,0,0.1)] dark:shadow-[0_20px_60px_rgba(0,0,0,0.5)] flex flex-col backdrop-blur-2xl transition-all duration-300'\r\n                }`}\r\n        >\r\n            {/* Header Premium */}\r\n            <div className=\"p-7 bg-black dark:bg-white text-white dark:text-black flex items-center justify-between shrink-0 transition-colors duration-300\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"w-10 h-10 bg-blue-600 dark:bg-blue-600 rounded-2xl flex items-center justify-center text-xl shadow-inner border border-white/5 dark:border-black/5 shrink-0 transition-colors duration-300\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                            <path d=\"M12 8V4H8\" />\r\n                            <rect width=\"16\" height=\"12\" x=\"4\" y=\"8\" rx=\"2\" />\r\n                            <path d=\"M2 14h2\" />\r\n                            <path d=\"M20 14h2\" />\r\n                            <path d=\"M15 13v2\" />\r\n                            <path d=\"M9 13v2\" />\r\n                        </svg>\r\n                    </div>\r\n                    <div className=\"min-w-0\">\r\n                        <h3 className=\"text-white dark:text-black font-black uppercase tracking-tighter text-base md:text-lg leading-none truncate transition-colors duration-300\">JARVIS</h3>\r\n                        <p className=\"text-white/50 dark:text-black/50 text-[9px] md:text-[10px] font-bold uppercase tracking-widest mt-1 truncate transition-colors duration-300\">Asistente Virtual JES</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                    {!isFullScreen && (\r\n                        <button\r\n                            onClick={() => setIsOpen(false)}\r\n                            className=\"p-2.5 hover:bg-white/10 dark:hover:bg-black/5 text-white dark:text-black rounded-xl transition-colors\"\r\n                        >\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M18 6 6 18\" /><path d=\"m6 6 12 12\" /></svg>\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <div\r\n                ref={scrollRef}\r\n                className=\"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar bg-transparent\"\r\n            >\r\n                {messages.map((m, i) => (\r\n                    <div key={i} className={`flex ${m.role === 'user' ? 'justify-end' : 'justify-start'}`}>\r\n                        <div className={`max-w-[85%] p-5 rounded-[28px] text-sm leading-relaxed transition-all duration-300 ${m.role === 'user'\r\n                            ? 'bg-blue-600 text-white rounded-tr-none shadow-lg shadow-blue-500/20'\r\n                            : 'bg-zinc-100 dark:bg-white/5 text-zinc-900 dark:text-zinc-100 border border-black/5 dark:border-white/5 rounded-tl-none shadow-sm'\r\n                            }`}>\r\n                            {m.role === 'assistant' ? renderMessageContent(m.content) : m.content}\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n                {loading && (\r\n                    <div className=\"flex justify-start pl-2\">\r\n                        <div className=\"bg-zinc-100 dark:bg-white/5 px-6 py-4 rounded-[28px] rounded-tl-none border border-black/5 dark:border-white/5 transition-colors duration-300\">\r\n                            <div className=\"flex gap-1.5\">\r\n                                <span className=\"w-2 h-2 bg-black/40 dark:bg-white/40 rounded-full animate-bounce\"></span>\r\n                                <span className=\"w-2 h-2 bg-black/40 dark:bg-white/40 rounded-full animate-bounce [animation-delay:0.2s]\"></span>\r\n                                <span className=\"w-2 h-2 bg-black/40 dark:bg-white/40 rounded-full animate-bounce [animation-delay:0.4s]\"></span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Input Premium */}\r\n            <div className={`p-6 border-t border-black/5 dark:border-white/5 bg-zinc-50/50 dark:bg-black/20 transition-colors duration-300 ${isFullScreen ? 'pb-24' : ''}`}>\r\n                <div className=\"flex items-center gap-3 bg-zinc-100 dark:bg-white/5 rounded-[24px] p-2 pr-2 border border-black/10 dark:border-white/5 focus-within:border-blue-500 transition-all shadow-inner\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={input}\r\n                        onChange={(e) => setInput(e.target.value)}\r\n                        onKeyDown={(e) => e.key === 'Enter' && handleSend()}\r\n                        placeholder=\"Escribe aquí...\"\r\n                        className=\"bg-transparent border-none outline-none text-zinc-900 dark:text-white placeholder:text-zinc-400 dark:placeholder:text-zinc-600 text-base w-full px-4 transition-colors duration-300\"\r\n                    />\r\n                    <button\r\n                        onClick={handleSend}\r\n                        disabled={loading || !input.trim()}\r\n                        className=\"w-12 h-12 bg-black dark:bg-white text-white dark:text-black rounded-2xl flex items-center justify-center hover:scale-105 active:scale-95 disabled:opacity-30 disabled:hover:scale-100 transition-all shadow-lg shrink-0\"\r\n                    >\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"m22 2-7 20-4-9-9-4Z\" /><path d=\"M22 2 11 13\" /></svg>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n\r\n    // Hide on /ai page (fullscreen mode) and /chat page (JARVIS is a contact there)\r\n    if ((pathname === '/ai' || pathname === '/chat') && !isFullScreen) return null;\r\n    if (isFullScreen) return chatContent;\r\n\r\n    return (\r\n        <div className=\"fixed bottom-6 right-6 z-[60]\">\r\n            {/* Toggle Button - Only visible on desktop if drawer is closed */}\r\n            <motion.button\r\n                whileHover={{ scale: 1.1, y: -2 }}\r\n                whileTap={{ scale: 0.9 }}\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className={`w-14 h-14 bg-blue-600 dark:bg-white rounded-full flex items-center justify-center shadow-[0_10px_30px_rgba(59,130,246,0.3)] dark:shadow-[0_10px_30px_rgba(255,255,255,0.15)] text-white dark:text-black relative z-10 border border-blue-500 dark:border-white/20 hover:bg-blue-700 dark:hover:bg-zinc-100 transition-colors ${isOpen ? 'hidden md:flex' : 'hidden md:flex'}`}\r\n            >\r\n                {isOpen ? (\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M18 6 6 18\" /><path d=\"m6 6 12 12\" /></svg>\r\n                ) : (\r\n                    <div className=\"relative\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" /></svg>\r\n                        {!isOpen && <span className=\"absolute -top-1 -right-1 w-3 h-3 bg-blue-600 rounded-full border-2 border-white animate-pulse\"></span>}\r\n                    </div>\r\n                )}\r\n            </motion.button>\r\n\r\n            <AnimatePresence>\r\n                {isOpen && chatContent}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n}\r\n","import { useRef, useEffect, useState } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useCart } from '../context/CartContext';\r\nimport { getProducts } from '../services/shopify';\r\nimport { chatWithAI } from '../services/ai';\r\nimport Fuse from 'fuse.js';\r\n\r\nexport default function PurchaseTerminal({ isOpen, onClose, product }) {\r\n    const [history, setHistory] = useState([\r\n        { text: 'JES STORE - TERMINAL v1.0.4', type: 'system' },\r\n        { text: 'Conectando con la bodega central...', type: 'system' },\r\n        { text: 'ESTADO: ONLINE', type: 'success' },\r\n        { text: 'Escribe \"help\" para ver comandos o \"jarvis\" para hablar con la IA.', type: 'info' }\r\n    ]);\r\n    const [input, setInput] = useState('');\r\n    const inputRef = useRef(null);\r\n    const scrollRef = useRef(null);\r\n    const { addToCart, removeFromCart } = useCart();\r\n\r\n    useEffect(() => {\r\n        if (isOpen && inputRef.current) {\r\n            inputRef.current.focus();\r\n        }\r\n    }, [isOpen]);\r\n\r\n    useEffect(() => {\r\n        if (scrollRef.current) {\r\n            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\r\n        }\r\n    }, [history]);\r\n\r\n    const [pendingAction, setPendingAction] = useState(null);\r\n    const [suggestedProduct, setSuggestedProduct] = useState(null);\r\n    const [jarvisMode, setJarvisMode] = useState(false);\r\n    const [jarvisHistory, setJarvisHistory] = useState([]);\r\n\r\n    const handleCommand = async (e) => {\r\n        if (e.key === 'Enter') {\r\n            const cmdText = input.trim().toLowerCase();\r\n            const newHistory = [...history, { text: `> ${input}`, type: 'user' }];\r\n\r\n            // Handle Pending Confirmations (y/n)\r\n            if (pendingAction === 'confirm_buy') {\r\n                if (cmdText === 'y' || cmdText === 'yes') {\r\n                    if (suggestedProduct) {\r\n                        addToCart({\r\n                            handle: suggestedProduct.handle,\r\n                            title: suggestedProduct.title,\r\n                            price: suggestedProduct.price,\r\n                            image: suggestedProduct.image\r\n                        });\r\n                        newHistory.push({ text: `[SUCCESS] ${suggestedProduct.title} añadido al carrito.`, type: 'success' });\r\n                    }\r\n                } else {\r\n                    newHistory.push({ text: 'Operación cancelada.', type: 'system' });\r\n                }\r\n                setPendingAction(null);\r\n                setSuggestedProduct(null);\r\n                setHistory(newHistory);\r\n                setInput('');\r\n                return;\r\n            }\r\n\r\n            if (cmdText === 'help') {\r\n                newHistory.push({ text: 'COMANDOS DISPONIBLES:', type: 'info' });\r\n                newHistory.push({ text: '  jarvis         - Activar modo JARVIS (IA)', type: 'success' });\r\n                newHistory.push({ text: '  search <query> - Buscar productos y añadir al carrito', type: 'info' });\r\n                newHistory.push({ text: '  buy            - Comprar producto actual (si hay uno activo)', type: 'info' });\r\n                newHistory.push({ text: '  stats          - Estadísticas del sistema', type: 'info' });\r\n                newHistory.push({ text: '  scan           - Escanear vulnerabilidades de ofertas', type: 'info' });\r\n                newHistory.push({ text: '  clear          - Limpiar la consola', type: 'info' });\r\n                newHistory.push({ text: '  exit           - Cerrar terminal', type: 'info' });\r\n            } else if (cmdText === 'jarvis') {\r\n                setJarvisMode(true);\r\n                setJarvisHistory([]);\r\n                newHistory.push({ text: '', type: 'system' });\r\n                newHistory.push({ text: '╔════════════════════════════════════════════════════════╗', type: 'success' });\r\n                newHistory.push({ text: '║         J.A.R.V.I.S. INTERFACE ACTIVATED              ║', type: 'success' });\r\n                newHistory.push({ text: '║   Just A Rather Very Intelligent System               ║', type: 'success' });\r\n                newHistory.push({ text: '╚════════════════════════════════════════════════════════╝', type: 'success' });\r\n                newHistory.push({ text: '', type: 'system' });\r\n                newHistory.push({ text: 'Hola. Soy JARVIS, tu asistente personal de JES Store.', type: 'info' });\r\n                newHistory.push({ text: 'Puedo ayudarte a encontrar productos, responder preguntas', type: 'info' });\r\n                newHistory.push({ text: 'o simplemente conversar. Escribe \"exit\" para salir del modo JARVIS.', type: 'info' });\r\n                newHistory.push({ text: '', type: 'system' });\r\n            } else if (cmdText.startsWith('search ')) {\r\n                const query = cmdText.replace('search ', '').trim();\r\n                newHistory.push({ text: `Buscando \"${query}\" en los servidores de Shopify...`, type: 'system' });\r\n\r\n                try {\r\n                    const allProducts = await getProducts(100);\r\n                    const fuse = new Fuse(allProducts, {\r\n                        keys: [\r\n                            { name: 'title', weight: 0.7 },\r\n                            { name: 'type', weight: 0.2 },\r\n                            { name: 'tags', weight: 0.1 }\r\n                        ],\r\n                        threshold: 0.5,\r\n                        distance: 100\r\n                    });\r\n                    const results = fuse.search(query).map(r => r.item).slice(0, 3);\r\n\r\n                    if (results.length > 0) {\r\n                        newHistory.push({ text: `ENCONTRADO: ${results[0].title} (${results[0].price})`, type: 'info' });\r\n                        newHistory.push({ text: `¿Añadir al carrito? (y/n)`, type: 'user' });\r\n                        setSuggestedProduct(results[0]);\r\n                        setPendingAction('confirm_buy');\r\n                    } else {\r\n                        newHistory.push({ text: `[ERROR] No se encontraron productos para \"${query}\".`, type: 'error' });\r\n                    }\r\n                } catch (err) {\r\n                    newHistory.push({ text: '[FATAL] Error de conexión con la base de datos.', type: 'error' });\r\n                }\r\n            } else if (cmdText === 'buy') {\r\n                if (product) {\r\n                    newHistory.push({ text: `Iniciando protocolo de compra para: ${product.title}...`, type: 'system' });\r\n                    setTimeout(() => {\r\n                        addToCart({\r\n                            handle: product.handle,\r\n                            title: product.title,\r\n                            price: product.price,\r\n                            image: product.image || (product.images && product.images[0])\r\n                        });\r\n                        setHistory(prev => [...prev, { text: 'PRODUCTO AÑADIDO AL CARRITO CON ÉXITO.', type: 'success' }]);\r\n                    }, 1000);\r\n                } else {\r\n                    newHistory.push({ text: 'Error: No hay un producto activo. Usa \"search <nombre>\" primero.', type: 'error' });\r\n                }\r\n            } else if (cmdText === 'stats') {\r\n                newHistory.push({ text: 'ESTADÍSTICAS DE LA COMUNIDAD:', type: 'info' });\r\n                newHistory.push({ text: '  Usuarios Online: 1,420', type: 'info' });\r\n                newHistory.push({ text: '  Vibe Level: 100%', type: 'info' });\r\n            } else if (cmdText === 'scan') {\r\n                newHistory.push({ text: 'Escaneando vulnerabilidades...', type: 'user' });\r\n                setTimeout(() => {\r\n                    setHistory(prev => [...prev, { text: '¡CUPÓN DETECTADO! Usa \"JES20\" para un 20% off.', type: 'success' }]);\r\n                }, 1500);\r\n            } else if (cmdText === 'info') {\r\n                if (product) {\r\n                    newHistory.push({ text: `PRODUCTO: ${product.title}`, type: 'info' });\r\n                    newHistory.push({ text: `PRECIO: ${product.price}`, type: 'info' });\r\n                } else {\r\n                    newHistory.push({ text: 'Error: No hay producto activo.', type: 'error' });\r\n                }\r\n            } else if (cmdText === 'clear') {\r\n                setHistory([{ text: 'Consola despejada.', type: 'system' }]);\r\n                setInput('');\r\n                return;\r\n            } else if (cmdText === 'exit') {\r\n                if (jarvisMode) {\r\n                    setJarvisMode(false);\r\n                    newHistory.push({ text: 'JARVIS desactivado. Volviendo al modo terminal.', type: 'system' });\r\n                } else {\r\n                    onClose();\r\n                    return;\r\n                }\r\n            } else if (jarvisMode && cmdText !== '') {\r\n                // JARVIS Mode - Send to AI\r\n                newHistory.push({ text: 'JARVIS > Procesando...', type: 'info' });\r\n                setHistory(newHistory);\r\n                setInput('');\r\n\r\n                try {\r\n                    // Fetch products for context\r\n                    const allProducts = await getProducts(50);\r\n                    const newJarvisHistory = [...jarvisHistory, { role: 'user', content: input }];\r\n                    const response = await chatWithAI(newJarvisHistory, allProducts);\r\n                    setJarvisHistory([...newJarvisHistory, { role: 'assistant', content: response }]);\r\n\r\n                    // Process JARVIS commands in response\r\n                    const addCartMatch = response.match(/\\[ADD_CART:([^\\]]+)\\]/);\r\n                    const removeCartMatch = response.match(/\\[REMOVE_CART:([^\\]]+)\\]/);\r\n\r\n                    if (addCartMatch) {\r\n                        const handle = addCartMatch[1];\r\n                        const productToAdd = allProducts.find(p => p.handle === handle);\r\n                        if (productToAdd) {\r\n                            addToCart({\r\n                                handle: productToAdd.handle,\r\n                                title: productToAdd.title,\r\n                                price: productToAdd.price,\r\n                                image: productToAdd.image\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    if (removeCartMatch) {\r\n                        const handle = removeCartMatch[1];\r\n                        removeFromCart(handle);\r\n                    }\r\n\r\n                    // Clean response from commands for display\r\n                    const cleanResponse = response\r\n                        .replace(/\\[ADD_CART:[^\\]]+\\]/g, '✅ Añadido al carrito')\r\n                        .replace(/\\[REMOVE_CART:[^\\]]+\\]/g, '❌ Eliminado del carrito')\r\n                        .replace(/\\[PRODUCT:[^\\]]+\\]/g, '')\r\n                        .replace(/\\[SEARCH:[^\\]]+\\]/g, '');\r\n\r\n                    // Split response into lines for terminal display\r\n                    const lines = cleanResponse.split('\\n').filter(l => l.trim());\r\n                    setHistory(prev => [\r\n                        ...prev.filter(h => h.text !== 'JARVIS > Procesando...'),\r\n                        { text: 'JARVIS:', type: 'success' },\r\n                        ...lines.map(line => ({ text: `  ${line}`, type: 'info' })),\r\n                        { text: '', type: 'system' }\r\n                    ]);\r\n                } catch (err) {\r\n                    setHistory(prev => [\r\n                        ...prev.filter(h => h.text !== 'JARVIS > Procesando...'),\r\n                        { text: '[ERROR] No se pudo conectar con JARVIS.', type: 'error' }\r\n                    ]);\r\n                }\r\n                return;\r\n            } else if (cmdText !== '') {\r\n                newHistory.push({ text: `Error: Comando desconocido. Escribe \"help\".`, type: 'error' });\r\n            }\r\n\r\n            setHistory(newHistory);\r\n            setInput('');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            {isOpen && (\r\n                <motion.div\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                    className=\"fixed inset-0 z-[100] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 md:p-10 font-mono\"\r\n                >\r\n                    <motion.div\r\n                        initial={{ scale: 0.9, y: 20 }}\r\n                        animate={{ scale: 1, y: 0 }}\r\n                        className=\"w-full max-w-4xl h-[600px] bg-zinc-950 border border-green-500/30 rounded-lg shadow-[0_0_50px_rgba(34,197,94,0.1)] flex flex-col overflow-hidden relative\"\r\n                    >\r\n                        {/* CRT Effect Overlay */}\r\n                        <div className=\"absolute inset-0 pointer-events-none bg-[radial-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.25)_100%),linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.1)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] bg-[length:100%_2px,100%_1px,3px_100%] z-10\" />\r\n\r\n                        {/* Terminal Header */}\r\n                        <div className=\"flex items-center justify-between px-4 py-2 bg-zinc-900 border-b border-green-500/20\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <div className=\"w-3 h-3 rounded-full bg-red-500/50\" />\r\n                                <div className=\"w-3 h-3 rounded-full bg-yellow-500/50\" />\r\n                                <div className=\"w-3 h-3 rounded-full bg-green-500/50\" />\r\n                                <span className=\"ml-2 text-[10px] text-green-500/50 uppercase tracking-widest\">jes_terminal_v1.sh</span>\r\n                            </div>\r\n                            <button onClick={onClose} className=\"text-green-500/50 hover:text-green-500 transition-colors\">\r\n                                [X]\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Terminal Content */}\r\n                        <div\r\n                            ref={scrollRef}\r\n                            className=\"flex-1 p-6 overflow-y-auto space-y-2 text-sm md:text-base selection:bg-green-500/30 selection:text-white no-scrollbar\"\r\n                        >\r\n                            {history.map((line, i) => (\r\n                                <div key={i} className={`\r\n                                    ${line.type === 'system' ? 'text-green-500/70' : ''}\r\n                                    ${line.type === 'success' ? 'text-green-400 font-bold' : ''}\r\n                                    ${line.type === 'error' ? 'text-red-400' : ''}\r\n                                    ${line.type === 'info' ? 'text-blue-400' : ''}\r\n                                    ${line.type === 'user' ? 'text-white' : ''}\r\n                                `}>\r\n                                    {line.text}\r\n                                </div>\r\n                            ))}\r\n                            <div className=\"flex items-center gap-2 text-green-400\">\r\n                                <span>$</span>\r\n                                <input\r\n                                    ref={inputRef}\r\n                                    type=\"text\"\r\n                                    value={input}\r\n                                    onChange={(e) => setInput(e.target.value)}\r\n                                    onKeyDown={handleCommand}\r\n                                    className=\"flex-1 bg-transparent border-none outline-none caret-green-500 p-0 text-white\"\r\n                                    autoFocus\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Status Bar */}\r\n                        <div className=\"px-4 py-1 bg-green-500/10 border-t border-green-500/20 flex justify-between text-[10px] text-green-500/50 uppercase tracking-tighter\">\r\n                            <span>Status: Root_Access</span>\r\n                            <span> {product ? `Target: ${product.handle}` : 'System_Idle'}</span>\r\n                            <span>UTF-8</span>\r\n                        </div>\r\n                    </motion.div>\r\n                </motion.div>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n}\r\n","'use client';\r\n\r\nimport { WishlistProvider } from '../src/context/WishlistContext';\r\nimport { CartProvider } from '../src/context/CartContext';\r\nimport { ThemeProvider } from '../src/context/ThemeContext';\r\nimport { TerminalProvider, useTerminal } from '../src/context/TerminalContext';\r\nimport PurchaseTerminal from '../src/components/PurchaseTerminal';\r\nimport AIAssistant from '../src/components/AIAssistant';\r\n\r\n// Wrapper component that has access to Terminal context\r\nfunction GlobalComponents({ children }) {\r\n    const { isOpen, closeTerminal, activeProduct } = useTerminal();\r\n\r\n    return (\r\n        <>\r\n            {children}\r\n            <PurchaseTerminal isOpen={isOpen} onClose={closeTerminal} product={activeProduct} />\r\n            <AIAssistant />\r\n        </>\r\n    );\r\n}\r\n\r\nexport function Providers({ children }) {\r\n    return (\r\n        <ThemeProvider>\r\n            <WishlistProvider>\r\n                <CartProvider>\r\n                    <TerminalProvider>\r\n                        <GlobalComponents>\r\n                            {children}\r\n                        </GlobalComponents>\r\n                    </TerminalProvider>\r\n                </CartProvider>\r\n            </WishlistProvider>\r\n        </ThemeProvider>\r\n    );\r\n}\r\n"],"names":["module","exports","require","vendored","React","AppRouterContext","ReactServerDOMTurbopackClient","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6]}