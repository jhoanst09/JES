(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16619,22902,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(22016),i=e.i(18566),a=e.i(46932),n=e.i(88653);let l=({children:e,width:s=200,height:i=80,borderRadius:a=20,borderWidth:n=.07,brightness:l=50,opacity:o=.93,blur:c=11,displace:d=0,backgroundOpacity:x=0,saturation:h=1,distortionScale:u=-180,redOffset:p=0,greenOffset:m=10,blueOffset:b=20,xChannel:f="R",yChannel:g="G",mixBlendMode:w="difference",className:k="",style:v={}})=>{let j=(0,r.useId)().replace(/:/g,"-"),y=`glass-filter-${j}`,N=`red-grad-${j}`,z=`blue-grad-${j}`,[C,S]=(0,r.useState)(!1),L=(0,r.useRef)(null),E=(0,r.useRef)(null),$=(0,r.useRef)(null),M=(0,r.useRef)(null),A=(0,r.useRef)(null),B=(0,r.useRef)(null),_=()=>{let e,t,r,s,i;E.current?.setAttribute("href",(e=L.current?.getBoundingClientRect(),t=e?.width||400,s=.5*n*Math.min(t,r=e?.height||200),i=`
      <svg viewBox="0 0 ${t} ${r}" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="${N}" x1="100%" y1="0%" x2="0%" y2="0%">
            <stop offset="0%" stop-color="#0000"/>
            <stop offset="100%" stop-color="red"/>
          </linearGradient>
          <linearGradient id="${z}" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stop-color="#0000"/>
            <stop offset="100%" stop-color="blue"/>
          </linearGradient>
        </defs>
        <rect x="0" y="0" width="${t}" height="${r}" fill="black"></rect>
        <rect x="0" y="0" width="${t}" height="${r}" rx="${a}" fill="url(#${N})" />
        <rect x="0" y="0" width="${t}" height="${r}" rx="${a}" fill="url(#${z})" style="mix-blend-mode: ${w}" />
        <rect x="${s}" y="${s}" width="${t-2*s}" height="${r-2*s}" rx="${a}" fill="hsl(0 0% ${l}% / ${o})" style="filter:blur(${c}px)" />
      </svg>
    `,`data:image/svg+xml,${encodeURIComponent(i)}`))};(0,r.useEffect)(()=>{_(),[{ref:$,offset:p},{ref:M,offset:m},{ref:A,offset:b}].forEach(({ref:e,offset:t})=>{e.current&&(e.current.setAttribute("scale",(u+t).toString()),e.current.setAttribute("xChannelSelector",f),e.current.setAttribute("yChannelSelector",g))}),B.current?.setAttribute("stdDeviation",d.toString())},[s,i,a,n,l,o,c,d,u,p,m,b,f,g,w]),(0,r.useEffect)(()=>{if(!L.current)return;let e=new ResizeObserver(()=>{setTimeout(_,0)});return e.observe(L.current),()=>{e.disconnect()}},[]),(0,r.useEffect)(()=>{setTimeout(_,0)},[s,i]),(0,r.useEffect)(()=>{S(R())},[]);let R=()=>{if("u"<typeof document)return!1;let e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),r=/Firefox/.test(navigator.userAgent);if(e||t||r)return!1;let s=document.createElement("div");return s.style.backdropFilter=`url(#${y})`,""!==s.style.backdropFilter},W={...v,width:"number"==typeof s?`${s}px`:s,height:"number"==typeof i?`${i}px`:i,borderRadius:`${a}px`,"--glass-frost":x,"--glass-saturation":h,"--filter-id":`url(#${y})`};return(0,t.jsxs)("div",{ref:L,className:`glass-surface ${C?"glass-surface--svg":"glass-surface--fallback"} ${k}`,style:W,children:[(0,t.jsx)("svg",{className:"glass-surface__filter",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("defs",{children:(0,t.jsxs)("filter",{id:y,colorInterpolationFilters:"sRGB",x:"0%",y:"0%",width:"100%",height:"100%",children:[(0,t.jsx)("feImage",{ref:E,x:"0",y:"0",width:"100%",height:"100%",preserveAspectRatio:"none",result:"map"}),(0,t.jsx)("feDisplacementMap",{ref:$,in:"SourceGraphic",in2:"map",id:"redchannel",result:"dispRed"}),(0,t.jsx)("feColorMatrix",{in:"dispRed",type:"matrix",values:"1 0 0 0 0   0 0 0 0 0   0 0 0 0 0   0 0 0 1 0",result:"red"}),(0,t.jsx)("feDisplacementMap",{ref:M,in:"SourceGraphic",in2:"map",id:"greenchannel",result:"dispGreen"}),(0,t.jsx)("feColorMatrix",{in:"dispGreen",type:"matrix",values:"0 0 0 0 0   0 1 0 0 0   0 0 0 0 0   0 0 0 1 0",result:"green"}),(0,t.jsx)("feDisplacementMap",{ref:A,in:"SourceGraphic",in2:"map",id:"bluechannel",result:"dispBlue"}),(0,t.jsx)("feColorMatrix",{in:"dispBlue",type:"matrix",values:"0 0 0 0 0   0 0 0 0 0   0 0 1 0 0   0 0 0 1 0",result:"blue"}),(0,t.jsx)("feBlend",{in:"red",in2:"green",mode:"screen",result:"rg"}),(0,t.jsx)("feBlend",{in:"rg",in2:"blue",mode:"screen",result:"output"}),(0,t.jsx)("feGaussianBlur",{ref:B,in:"output",stdDeviation:"0.7"})]})})}),(0,t.jsx)("div",{className:"glass-surface__content",children:e})]})};var o=e.i(98739),c=e.i(52086),d=e.i(99565),x=e.i(69760),h=e.i(65375);function u(){let{cart:e,removeFromCart:r,updateQuantity:s,cartTotal:i,isCartOpen:l,setIsCartOpen:o,clearCart:d,startCheckout:x,isCheckingOut:h}=(0,c.useCart)();return(0,t.jsx)(n.AnimatePresence,{children:l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>o(!1),className:"fixed inset-0 z-[110] bg-black/60 backdrop-blur-sm"}),(0,t.jsxs)(a.motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 h-full w-full max-w-md z-[120] bg-white dark:bg-zinc-950 border-l border-black/5 dark:border-white/5 shadow-2xl flex flex-col transition-colors duration-300",children:[(0,t.jsxs)("div",{className:"p-8 border-b border-white/5 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("h2",{className:"text-2xl font-black uppercase tracking-tighter italic text-zinc-900 dark:text-white",children:["Tus ",(0,t.jsx)("span",{className:"text-blue-500",children:"Regalos"})," ðŸŽ"]}),(0,t.jsxs)("p",{className:"text-[10px] text-zinc-500 dark:text-zinc-500 uppercase tracking-widest font-black",children:["Tienes ",e.length," vales esperando"]})]}),(0,t.jsx)("button",{onClick:()=>o(!1),className:"p-3 bg-black/5 dark:bg-white/5 hover:bg-black dark:hover:bg-white text-zinc-600 dark:text-white hover:text-white dark:hover:text-black rounded-full transition-all active:scale-95",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M18 6 6 18"}),(0,t.jsx)("path",{d:"m6 6 12 12"})]})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-8 space-y-6 custom-scrollbar",children:e.length>0?e.map((e,i)=>(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*i},className:"flex gap-4 p-4 bg-zinc-50 dark:bg-white/5 rounded-3xl border border-black/5 dark:border-white/5 hover:border-blue-500/20 transition-all group",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-zinc-100 dark:bg-black rounded-2xl overflow-hidden flex-shrink-0 border border-black/5 dark:border-white/5",children:(0,t.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col justify-between py-1",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h3",{className:"font-bold text-sm line-clamp-1 text-zinc-900 dark:text-white transition-colors",children:e.title}),(0,t.jsx)("p",{className:"text-blue-500 font-black text-xs",children:e.price})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center bg-black/5 dark:bg-black/50 rounded-xl border border-black/5 dark:border-white/5 overflow-hidden",children:[(0,t.jsx)("button",{onClick:()=>s(e.handle,-1),className:"px-3 py-1 hover:bg-black/5 dark:hover:bg-white/10 text-zinc-600 dark:text-white transition-colors",children:"-"}),(0,t.jsx)("span",{className:"px-3 text-xs font-bold text-zinc-900 dark:text-white",children:e.quantity}),(0,t.jsx)("button",{onClick:()=>s(e.handle,1),className:"px-3 py-1 hover:bg-black/5 dark:hover:bg-white/10 text-zinc-600 dark:text-white transition-colors",children:"+"})]}),(0,t.jsx)("button",{onClick:()=>r(e.handle),className:"p-2 text-zinc-500 hover:text-red-500 transition-colors",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M3 6h18"}),(0,t.jsx)("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),(0,t.jsx)("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]})]})]},e.handle)):(0,t.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4 opacity-30",children:[(0,t.jsx)("span",{className:"text-6xl",children:"ðŸ¥¥"}),(0,t.jsx)("p",{className:"font-black uppercase tracking-widest text-[10px]",children:"Cero cocos por ahora, vale."})]})}),(0,t.jsxs)("div",{className:"p-8 bg-zinc-50 dark:bg-zinc-900 border-t border-black/5 dark:border-white/5 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-zinc-500 font-bold uppercase tracking-widest text-[10px]",children:"Total Estimado"}),(0,t.jsxs)("span",{className:"text-2xl font-black text-zinc-900 dark:text-white transition-colors",children:["$ ",i.toLocaleString()," COP"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)("button",{onClick:d,className:"py-4 rounded-2xl border border-black/5 dark:border-white/5 text-zinc-500 font-black uppercase text-[10px] tracking-widest hover:bg-black/5 dark:hover:bg-white/5 transition-all",children:"Vaciar"}),(0,t.jsx)("button",{onClick:x,disabled:0===e.length||h,className:"py-4 bg-black dark:bg-white text-white dark:text-black rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-blue-600 hover:text-white transition-all disabled:opacity-50 disabled:cursor-wait shadow-xl",children:h?"Procesando...":"Pagar Ahora"})]})]})]})]})})}var p=e.i(61534);function m({isOpen:e,onClose:s}){let[l,c]=(0,r.useState)(""),[d,x]=(0,r.useState)([]),[h,u]=(0,r.useState)(!1),m=(0,i.useRouter)();return(0,r.useEffect)(()=>{if(!e){c(""),x([]);return}let t=e=>{"Escape"===e.key&&s()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[e,s]),(0,r.useEffect)(()=>{if(l.trim().length<2)return void x([]);let e=setTimeout(async()=>{u(!0);try{let e=await (0,o.getProducts)(100),t=new p.default(e,{keys:[{name:"title",weight:.7},{name:"type",weight:.2},{name:"tags",weight:.1}],threshold:.45,distance:100}).search(l).map(e=>e.item).slice(0,5);x(t)}catch(e){console.error("Search error:",e)}finally{u(!1)}},300);return()=>clearTimeout(e)},[l]),(0,t.jsx)(n.AnimatePresence,{children:e&&(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-white/95 dark:bg-black/95 backdrop-blur-2xl flex flex-col pt-safe transition-colors duration-300",children:(0,t.jsxs)("div",{className:"max-w-5xl mx-auto w-full px-6 pt-12 md:pt-16 pb-32 overflow-y-auto no-scrollbar",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 md:gap-6 border-b border-white/10 pb-6 md:pb-8 mb-8 md:mb-12",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-500 md:w-8 md:h-8",children:[(0,t.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,t.jsx)("path",{d:"m21 21-4.3-4.3"})]}),(0,t.jsx)("input",{autoFocus:!0,type:"text",placeholder:"Â¿QuÃ© buscas?",value:l,onChange:e=>c(e.target.value),className:"bg-transparent border-none outline-none text-2xl md:text-5xl font-black text-zinc-900 dark:text-white w-full placeholder:text-zinc-300 dark:placeholder:text-zinc-800 tracking-tighter transition-colors duration-300"}),(0,t.jsx)("button",{onClick:s,className:"p-3 bg-zinc-100 dark:bg-white/5 hover:bg-zinc-200 dark:hover:bg-white/10 rounded-full text-zinc-500 dark:text-zinc-400 hover:text-black dark:hover:text-white transition-all",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M18 6 6 18"}),(0,t.jsx)("path",{d:"m6 6 12 12"})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 md:gap-16",children:[(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-10 md:space-y-12",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-[10px] font-black text-blue-500 uppercase tracking-[0.3em] mb-6",children:"Explorar"}),(0,t.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-1 gap-2",children:[{name:"Streaming",path:"/streaming",icon:"ðŸ“º"},{name:"Dispositivos",path:"/electronics",icon:"ðŸ“±"},{name:"Ropa",path:"/apparel",icon:"ðŸ‘•"},{name:"MÃºsica",path:"/music",icon:"ðŸŽµ"},{name:"Sports Zone",path:"/sports",icon:"âš¡"},{name:"Gaming",path:"/gaming",icon:"ðŸŽ®"},{name:"Gadgets",path:"/gadgets",icon:"ðŸ’¡"},{name:"Hogar",path:"/home-decor",icon:"ðŸ "},{name:"Libros",path:"/books",icon:"ðŸ“š"},{name:"Accesorios",path:"/accessories",icon:"ðŸ•¶ï¸"},{name:"Perfumes",path:"/perfumes",icon:"âœ¨"},{name:"F1 Store",path:"/sports?cat=f1",icon:"ðŸŽï¸"},{name:"FÃºtbol Club",path:"/sports?cat=soccer",icon:"âš½"},{name:"Comunidad",path:"/community",icon:"ðŸ¤"},{name:"Nosotros",path:"/about",icon:"ðŸ“–"},{name:"Joyas",path:"/jewelry",icon:"ðŸ’Ž"}].map(e=>(0,t.jsxs)("button",{onClick:()=>{m.push(e.path),s()},className:"group flex items-center justify-between p-3 md:p-4 bg-zinc-100 dark:bg-white/5 hover:bg-black dark:hover:bg-white text-zinc-900 dark:text-white hover:text-white dark:hover:text-black rounded-2xl transition-all duration-300",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 md:gap-4",children:[(0,t.jsx)("span",{className:"text-lg group-hover:scale-110 transition-transform",children:e.icon}),(0,t.jsx)("span",{className:"font-bold tracking-tight text-xs md:text-base",children:e.name})]}),(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0",children:[(0,t.jsx)("path",{d:"M5 12h14"}),(0,t.jsx)("path",{d:"m12 5 7 7-7 7"})]})]},e.name))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-[10px] font-black text-zinc-600 uppercase tracking-[0.3em] mb-4",children:"Tendencias"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:["Espejo Blonde","Nike Jordan","Vinilos","Flipper Zero","M5Stick","LPs","Sony WH-1000XM5"].map(e=>(0,t.jsx)("button",{onClick:()=>c(e),className:"px-4 py-2 bg-zinc-100 dark:bg-zinc-900 border border-black/5 dark:border-white/5 rounded-full text-[10px] font-black uppercase text-zinc-500 dark:text-white/50 hover:border-blue-500/50 hover:text-blue-600 dark:hover:text-white transition-all tracking-widest",children:e},e))})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-2",children:[(0,t.jsxs)("h3",{className:"text-[10px] font-black text-zinc-600 uppercase tracking-[0.3em] mb-6 border-b border-white/5 pb-4 flex justify-between items-center",children:[(0,t.jsx)("span",{children:l?"Resultados":"InspiraciÃ³n"}),d.length>0&&(0,t.jsxs)("span",{className:"text-blue-500",children:[d.length," encontrados"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:h?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("p",{className:"text-zinc-500 text-xs animate-pulse font-black uppercase tracking-tighter",children:"Buscando..."})]}):d.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(e=>(0,t.jsxs)("button",{onClick:()=>{m.push(`/product/${e.handle}`),s()},className:"flex items-center gap-4 w-full p-4 bg-zinc-100 dark:bg-zinc-900/50 hover:bg-black dark:hover:bg-white rounded-3xl transition-all group text-left border border-black/5 dark:border-white/5 hover:border-black dark:hover:border-white shadow-xl",children:[(0,t.jsx)("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-zinc-200 dark:bg-black rounded-2xl overflow-hidden flex-shrink-0 border border-black/5 dark:border-white/5",children:e.image&&(0,t.jsx)("img",{src:e.image,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-all group-hover:scale-110 duration-500",alt:""})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-[9px] text-blue-500 font-black uppercase tracking-widest mb-1",children:e.type}),(0,t.jsx)("p",{className:"text-sm font-black text-zinc-900 dark:text-white group-hover:text-white dark:group-hover:text-black transition-colors line-clamp-1 italic",children:e.title}),(0,t.jsx)("p",{className:"text-xs font-bold text-zinc-500 mt-1",children:e.price})]})]},e.id))}):(0,t.jsxs)("div",{className:"py-20 text-center space-y-4",children:[(0,t.jsx)("span",{className:"text-5xl md:text-6xl block opacity-20 filter grayscale",children:"ðŸ”Ž"}),(0,t.jsx)("p",{className:"text-zinc-600 text-xs md:text-sm max-w-xs mx-auto italic font-medium leading-relaxed",children:l?"No encontramos resultados. Prueba con otros tÃ©rminos.":"Escribe algo y deja que Luc-IA y el sistema busquen por ti."})]})})]})]})]})})})}function b(){let[e,i]=(0,r.useState)(!1),{cartCount:o,setIsCartOpen:p}=(0,c.useCart)(),{followRequests:b}=(0,h.useWishlist)(),{isLightMode:f,toggleTheme:g}=(0,d.useTheme)(),{openTerminal:w}=(0,x.useTerminal)(),[k,v]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>i(!0);return window.addEventListener("open-search",e),()=>window.removeEventListener("open-search",e)},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 px-6 py-3",children:(0,t.jsx)("div",{className:"mx-auto max-w-2xl",children:(0,t.jsx)(l,{width:"100%",height:65,borderRadius:50,blur:11,displace:0,distortionScale:-180,redOffset:0,greenOffset:10,blueOffset:20,brightness:f?100:20,opacity:.8,backgroundOpacity:f?.3:.1,saturation:1.2,children:(0,t.jsxs)("div",{className:"flex items-center justify-between w-full px-6",children:[(0,t.jsx)("div",{className:"flex items-center shrink-0",children:(0,t.jsx)(s.default,{href:"/",className:"hover:scale-105 transition-transform active:scale-95",children:(0,t.jsx)("img",{src:"/assets/logo.png",alt:"JES",className:`h-9 w-auto object-contain ${!f?"invert brightness-[200%]":""}`})})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[(0,t.jsxs)(s.default,{href:"/profile",className:"hidden md:flex p-2.5 text-zinc-600 dark:text-white/80 hover:text-zinc-900 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-all relative active:scale-95","aria-label":"Perfil",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),b.length>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-red-500 rounded-full flex items-center justify-center text-[10px] font-black text-white px-1 shadow-lg shadow-red-500/40 animate-pulse",children:b.length})]}),(0,t.jsx)(({className:e=""})=>(0,t.jsx)("button",{onClick:g,className:`p-2.5 rounded-full transition-all active:scale-95 ${e}`,"aria-label":f?"Modo oscuro":"Modo claro",children:f?(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}):(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"4"}),(0,t.jsx)("path",{d:"M12 2v2"}),(0,t.jsx)("path",{d:"M12 20v2"}),(0,t.jsx)("path",{d:"m4.93 4.93 1.41 1.41"}),(0,t.jsx)("path",{d:"m17.66 17.66 1.41 1.41"}),(0,t.jsx)("path",{d:"M2 12h2"}),(0,t.jsx)("path",{d:"M20 12h2"}),(0,t.jsx)("path",{d:"m6.34 17.66-1.41 1.41"}),(0,t.jsx)("path",{d:"m19.07 4.93-1.41 1.41"})]})}),{className:"text-zinc-600 dark:text-white/80 hover:text-zinc-900 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/10"}),(0,t.jsx)("button",{onClick:()=>i(!0),className:"hidden md:flex p-2.5 bg-black/5 dark:bg-white/5 hover:bg-zinc-900 dark:hover:bg-white text-zinc-900 dark:text-white hover:text-white dark:hover:text-black rounded-full transition-all items-center justify-center border border-black/5 dark:border-white/5 active:scale-95 group","aria-label":"Buscar",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"group-hover:scale-110 transition-transform",children:[(0,t.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,t.jsx)("path",{d:"m21 21-4.3-4.3"})]})}),(0,t.jsx)("button",{onClick:()=>w(),className:"flex p-2 md:p-2.5 bg-zinc-900 dark:bg-black border border-green-500/30 text-green-500 rounded-full hover:bg-green-500 hover:text-black transition-all active:scale-95","aria-label":"Abrir Terminal",title:"Modo Hacker",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"md:w-5 md:h-5",children:[(0,t.jsx)("polyline",{points:"4 17 10 11 4 5"}),(0,t.jsx)("line",{x1:"12",x2:"20",y1:"19",y2:"19"})]})}),(0,t.jsxs)("button",{onClick:()=>p(!0),className:"hidden md:flex p-2.5 text-zinc-600 dark:text-white/80 hover:text-zinc-900 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-all relative active:scale-95","aria-label":"Carrito",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),(0,t.jsx)("path",{d:"M3 6h18"}),(0,t.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),o>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-blue-500 rounded-full flex items-center justify-center text-[10px] font-black text-white px-1 shadow-lg shadow-blue-500/40 animate-in zoom-in duration-300",children:o})]}),(0,t.jsx)("button",{onClick:()=>v(!0),className:"p-2.5 bg-zinc-100 dark:bg-black text-zinc-900 dark:text-white rounded-full transition-all active:scale-95 border border-black/10 dark:border-white/10 hover:border-blue-500/50 shadow-sm","aria-label":"Menu",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),(0,t.jsx)("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),(0,t.jsx)("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]})})]})]})})})}),(0,t.jsx)(n.AnimatePresence,{children:k&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>v(!1),className:"fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm"}),(0,t.jsxs)(a.motion.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 bottom-0 w-[300px] z-[70] bg-white dark:bg-zinc-950 border-l border-black/5 dark:border-white/10 p-10 flex flex-col shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-12",children:[(0,t.jsx)("h3",{className:"text-xs font-black uppercase tracking-[0.4em] text-zinc-400 dark:text-zinc-500",children:"JES STORE"}),(0,t.jsx)("button",{onClick:()=>v(!1),className:"text-zinc-400 hover:text-zinc-900 dark:hover:text-white transition-colors",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M18 6 6 18"}),(0,t.jsx)("path",{d:"m6 6 12 12"})]})})]}),(0,t.jsxs)("nav",{className:"space-y-8",children:[(0,t.jsxs)(s.default,{href:"/community",onClick:()=>v(!1),className:"group flex items-center gap-4",children:[(0,t.jsx)("span",{className:"text-2xl group-hover:scale-125 transition-transform",children:"âš½"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("p",{className:"font-black text-zinc-900 dark:text-white uppercase tracking-tighter text-xl",children:"Comunidad"}),(0,t.jsx)("p",{className:"text-[10px] text-zinc-500 dark:text-zinc-400 font-bold uppercase tracking-widest mt-1",children:"Social y Juegos"})]})]}),(0,t.jsxs)(s.default,{href:"/about",onClick:()=>v(!1),className:"group flex items-center gap-4",children:[(0,t.jsx)("span",{className:"text-2xl group-hover:scale-125 transition-transform",children:"â„¹ï¸"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("p",{className:"font-black text-zinc-900 dark:text-white uppercase tracking-tighter text-xl",children:"Nosotros"}),(0,t.jsx)("p",{className:"text-[10px] text-zinc-500 dark:text-zinc-400 font-bold uppercase tracking-widest mt-1",children:"Nuestra historia"})]})]}),(0,t.jsxs)("div",{className:"pt-8 border-t border-black/5 dark:border-white/10 space-y-6 text-zinc-400 dark:text-zinc-500 font-bold uppercase text-[10px] tracking-[0.2em]",children:[(0,t.jsx)(s.default,{href:"/profile",onClick:()=>v(!1),className:"block hover:text-blue-500 transition-colors",children:"Ajustes"}),(0,t.jsx)(s.default,{href:"/reviews",onClick:()=>v(!1),className:"block hover:text-blue-500 transition-colors",children:"Mis ReseÃ±as"}),(0,t.jsx)("button",{className:"block hover:text-red-500 cursor-pointer transition-colors text-left uppercase font-bold text-[10px]",children:"Cerrar SesiÃ³n"})]})]}),(0,t.jsx)("div",{className:"mt-auto pt-10 text-center",children:(0,t.jsxs)("div",{className:"p-4 bg-zinc-50 dark:bg-zinc-900 rounded-2xl border border-black/5 dark:border-white/5",children:[(0,t.jsx)("p",{className:"text-[9px] text-zinc-400 dark:text-zinc-500 font-black uppercase tracking-[0.2em]",children:"Soporte JES Bot"}),(0,t.jsx)("button",{onClick:()=>{v(!1),window.dispatchEvent(new CustomEvent("open-ai-assistant"))},className:"mt-2 block w-full text-blue-600 dark:text-blue-400 text-xs font-bold underline decoration-wavy underline-offset-4",children:"Hablemos ahora"})]})})]})]})}),(0,t.jsx)(m,{isOpen:e,onClose:()=>i(!1)}),(0,t.jsx)(u,{})]})}function f(){let{cartCount:e}=(0,c.useCart)(),{followRequests:r}=(0,h.useWishlist)(),a=(0,i.usePathname)();return(0,t.jsx)("div",{className:"fixed bottom-6 left-6 right-6 z-50 md:hidden h-[65px] bg-black/80 backdrop-blur-xl border border-white/10 rounded-[32px] flex items-center shadow-[0_20px_50px_rgba(0,0,0,0.5)]",children:(0,t.jsxs)("nav",{className:"flex items-center justify-around w-full px-2",children:[(0,t.jsx)(s.default,{href:"/",className:`flex flex-col items-center p-2 rounded-2xl transition-all ${"/"===a?"text-blue-500 bg-blue-500/10":"text-white/60 hover:text-white"}`,"aria-label":"Inicio",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),(0,t.jsx)("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),(0,t.jsx)(s.default,{href:"/explore",className:`flex flex-col items-center p-2 rounded-2xl transition-all ${"/explore"===a?"text-blue-500 bg-blue-500/10":"text-white/60 hover:text-white"}`,"aria-label":"Explorar",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,t.jsx)("path",{d:"m21 21-4.3-4.3"})]})}),(0,t.jsxs)(s.default,{href:"/chat",className:`flex flex-col items-center p-2 rounded-2xl transition-all relative ${"/chat"===a?"text-blue-500 bg-blue-500/10":"text-white/60 hover:text-white"}`,"aria-label":"MensajerÃ­a",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"})}),(0,t.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-blue-500 rounded-full animate-pulse border-2 border-black"})]}),(0,t.jsxs)(s.default,{href:"/cart",className:`flex flex-col items-center p-2 rounded-2xl transition-all relative ${"/cart"===a?"text-blue-500 bg-blue-500/10":"text-white/60 hover:text-white"}`,"aria-label":"Carrito",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),(0,t.jsx)("path",{d:"M3 6h18"}),(0,t.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),e>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-[18px] h-[18px] bg-blue-600 rounded-full text-[9px] flex items-center justify-center text-white font-black border-2 border-black",children:e})]}),(0,t.jsxs)(s.default,{href:"/profile",className:`flex flex-col items-center p-2 rounded-2xl transition-all relative ${"/profile"===a?"text-blue-500 bg-blue-500/10":"text-white/60 hover:text-white"}`,"aria-label":"Perfil",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),(0,t.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),r.length>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-[18px] h-[18px] bg-red-500 rounded-full text-[9px] flex items-center justify-center text-white font-black border-2 border-black animate-pulse",children:r.length})]})]})})}e.s(["default",()=>b],16619),e.s(["default",()=>f],22902)},85916,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(16619),i=e.i(22902),a=e.i(46932),n=e.i(18566),l=e.i(60393),o=e.i(65375),c=e.i(33351),d=e.i(98739);async function x(e,t="jes-store-salt-v1"){let r=new TextEncoder,s=await crypto.subtle.importKey("raw",r.encode(e),"PBKDF2",!1,["deriveBits","deriveKey"]);return await crypto.subtle.deriveKey({name:"PBKDF2",salt:r.encode(t),iterations:1e5,hash:"SHA-256"},s,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async function h(e,t){let r=new TextEncoder,s=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:s},t,r.encode(e)),a=new Uint8Array(s.length+i.byteLength);return a.set(s),a.set(new Uint8Array(i),s.length),btoa(String.fromCharCode(...a))}async function u(e,t){let r=Uint8Array.from(atob(e),e=>e.charCodeAt(0)),s=r.slice(0,12),i=r.slice(12),a=await crypto.subtle.decrypt({name:"AES-GCM",iv:s},t,i);return new TextDecoder().decode(a)}async function p(e,t){return await h(e,t)}async function m(e,t){try{return await u(e,t)}catch(e){return console.error("Decryption failed:",e),"[Mensaje cifrado - No se pudo descifrar]"}}async function b(e,t){let r=[e,t].sort().join(":");return await x(r,"jes-conversation-key-v1")}function f(){let{session:e,friends:x,isLoggedIn:h,loading:u}=(0,o.useWishlist)(),f=(0,n.useSearchParams)().get("user"),[g,w]=(0,r.useState)("list"),[k,v]=(0,r.useState)(null),[j,y]=(0,r.useState)({}),[N,z]=(0,r.useState)(""),[C,S]=(0,r.useState)([]),L=(0,r.useRef)(null),[E,$]=(0,r.useState)({}),[M,A]=(0,r.useState)(!0),[B,_]=(0,r.useState)(!1),[R,W]=(0,r.useState)(!1),P={id:"jarvis-ai",name:"JARVIS",avatar:"ðŸ¤–",lastMsg:"Tu asistente personal de JES",type:"ai",online:!0},T=x.map(e=>({id:e.id,name:e.name||e.email?.split("@")[0]||"Amigo",avatar:e.avatar_url,lastMsg:"...",type:"friend",online:C.includes(e.id)})),D=[P,...T],[I,G]=(0,r.useState)(D);(0,r.useEffect)(()=>{G([P,...T])},[x,C]),(0,r.useEffect)(()=>{if(!e?.user?.id)return;let t=l.supabase.channel("online-users",{config:{presence:{key:e.user.id}}});return t.on("presence",{event:"sync"},()=>{S(Object.keys(t.presenceState()))}).on("presence",{event:"join"},({key:e})=>{S(t=>[...t,e])}).on("presence",{event:"leave"},({key:e})=>{S(t=>t.filter(t=>t!==e))}).subscribe(async r=>{"SUBSCRIBED"===r&&await t.track({user_id:e.user.id,online_at:new Date().toISOString()})}),()=>{l.supabase.removeChannel(t)}},[e?.user?.id]),(0,r.useEffect)(()=>{!async function(){if(!f||u)return;let e=D.find(e=>e.id===f);if(e){v(e),w("chat");return}let{data:t}=await l.supabase.from("profiles").select("*").eq("id",f).single();if(t){let e={id:t.id,name:t.name,avatar:t.avatar_url||"ðŸ‘¤",lastMsg:"Â¡Parchamos!",type:"friend",online:!0};G(t=>[e,...t]),v(e),w("chat")}}()},[f,u]),(0,r.useEffect)(()=>{if(!k||!e?.user?.id)return;!async function(){_(!0);try{let t=E[k.id];t||(t=await b(e.user.id,k.id),$(e=>({...e,[k.id]:t})));let{data:r,error:s}=await l.supabase.from("messages").select("*").or(`and(sender_id.eq.${e.user.id},receiver_id.eq.${k.id}),and(sender_id.eq.${k.id},receiver_id.eq.${e.user.id})`).order("created_at",{ascending:!0});if(s)throw s;if(r){let s=await Promise.all(r.map(async r=>{let s=r.content;if(r.is_encrypted&&t)try{s=await m(r.content,t)}catch(e){s="[Error al descifrar]"}return{id:r.id,sender:r.sender_id===e.user.id?"Yo":k.name,text:s,time:new Date(r.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isEncrypted:r.is_encrypted}}));y(e=>({...e,[k.id]:s}))}}catch(e){console.error("Error in chat initialization:",e)}finally{_(!1)}}();let t=l.supabase.channel(`chat_${k.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async t=>{let r=t.new;if(r.sender_id===e.user.id&&r.receiver_id===k.id||r.sender_id===k.id&&r.receiver_id===e.user.id){let t=r.content;if(r.is_encrypted){let s=await b(e.user.id,k.id);try{t=await m(r.content,s)}catch(e){t="[Mensaje cifrado]"}}y(s=>{let i=s[k.id]||[];return i.some(e=>e.id===r.id)?s:{...s,[k.id]:[...i,{id:r.id,sender:r.sender_id===e.user.id?"Yo":k.name,text:t,time:new Date(r.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isEncrypted:r.is_encrypted}]}})}}).subscribe();return()=>{l.supabase.removeChannel(t)}},[k,e?.user?.id]);let F=async t=>{if(t.preventDefault(),!N.trim()||!k)return;let r=N.trim();z("");let s=Date.now();if(y(e=>({...e,[k.id]:[...e[k.id]||[],{id:s,sender:"Yo",text:r,time:"Ahora",isEncrypted:!1}]})),"ai"===k.type){W(!0);try{let e=await (0,d.getProducts)(30),t=(j[k.id]||[]).map(e=>({role:"Yo"===e.sender?"user":"assistant",content:e.text}));t.push({role:"user",content:r});let s=await (0,c.chatWithAI)(t,e);y(e=>({...e,[k.id]:[...e[k.id]||[],{id:Date.now(),sender:"JARVIS",text:s,time:"Ahora",isEncrypted:!1}]}))}catch(e){console.error("AI Error:",e),y(e=>({...e,[k.id]:[...e[k.id]||[],{id:Date.now(),sender:"JARVIS",text:"Error de conexiÃ³n. Intenta de nuevo.",time:"Ahora",isEncrypted:!1}]}))}finally{W(!1)}return}if(!e?.user?.id)return void alert("Debes iniciar sesiÃ³n para enviar mensajes.");let i=r,a=!1;if(M&&E[k.id])try{i=await p(r,E[k.id]),a=!0}catch(e){console.warn("Encryption failed, sending unencrypted:",e)}try{let{error:t}=await l.supabase.from("messages").insert({sender_id:e.user.id,receiver_id:k.id,content:i,is_encrypted:a});t&&(console.error("Send error:",t),y(e=>({...e,[k.id]:(e[k.id]||[]).filter(e=>e.id!==s)})),alert("Error al enviar mensaje. Verifica tu conexiÃ³n."))}catch(e){console.error("Network error:",e),y(e=>({...e,[k.id]:(e[k.id]||[]).filter(e=>e.id!==s)})),alert("Error de red. Intenta de nuevo.")}};return h?(0,t.jsxs)("div",{className:"h-screen bg-black flex flex-col overflow-hidden",children:[(0,t.jsx)(s.default,{}),(0,t.jsx)("main",{className:"flex-1 flex overflow-hidden pt-20 md:pt-24",children:(0,t.jsxs)("div",{className:"flex-1 flex max-w-[1600px] mx-auto w-full border-x border-white/5 bg-zinc-900/50",children:[(0,t.jsxs)("div",{className:`${"chat"===g?"hidden md:flex":"flex"} w-full md:w-[380px] flex-col border-r border-white/5 bg-zinc-900/80`,children:[(0,t.jsxs)("div",{className:"p-6 border-b border-white/5",children:[(0,t.jsx)("h2",{className:"text-2xl font-black text-white uppercase tracking-tighter italic mb-4",children:"Mis Amigos"}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("input",{type:"text",placeholder:"Buscar chat...",className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-xs outline-none focus:ring-2 ring-blue-500/20 text-white placeholder:text-zinc-600"})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:I.length>0?I.map(e=>(0,t.jsxs)("button",{onClick:()=>{v(e),w("chat")},className:`w-full p-4 flex items-center gap-4 transition-all border-b border-white/[0.02] ${k?.id===e.id?"bg-blue-600/10 border-l-4 border-l-blue-600":"hover:bg-white/[0.03]"}`,children:[(0,t.jsxs)("div",{className:"w-14 h-14 rounded-full bg-zinc-800 flex items-center justify-center text-2xl relative shrink-0 overflow-hidden border border-white/5",children:[e.avatar?(0,t.jsx)("img",{src:e.avatar,className:"w-full h-full object-cover"}):"ðŸ‘¤",e.online&&(0,t.jsx)("span",{className:"absolute bottom-0.5 right-0.5 w-3.5 h-3.5 bg-green-500 rounded-full border-2 border-zinc-900"})]}),(0,t.jsxs)("div",{className:"text-left flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-0.5",children:[(0,t.jsxs)("p",{className:"font-bold text-white truncate text-sm",children:["@",e.name]}),(0,t.jsx)("span",{className:"text-[9px] text-zinc-500 font-black uppercase tracking-widest",children:"Ahora"})]}),(0,t.jsx)("p",{className:"text-xs truncate text-zinc-500 font-medium italic",children:"Empieza a hablar..."})]})]},e.id)):(0,t.jsxs)("div",{className:"p-8 text-center space-y-4",children:[(0,t.jsx)("p",{className:"text-zinc-500 text-xs font-bold uppercase tracking-widest leading-relaxed",children:"AÃºn no tienes amigos agregados para chatear."}),(0,t.jsx)("a",{href:"/community",className:"text-blue-500 text-[10px] font-black uppercase tracking-widest hover:underline",children:"Buscar Amigos â†’"})]})})]}),(0,t.jsx)("div",{className:`${"chat"===g?"flex":"hidden md:flex"} flex-1 flex-col relative`,children:k?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"p-4 md:p-6 bg-zinc-900/90 backdrop-blur-md border-b border-white/5 flex items-center justify-between z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>w("list"),className:"md:hidden p-2 text-zinc-400",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"m15 18-6-6 6-6"})})}),(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-zinc-800 border border-white/10 flex items-center justify-center text-xl overflow-hidden shadow-2xl relative",children:k.avatar?(0,t.jsx)("img",{src:k.avatar,className:"w-full h-full object-cover"}):"ðŸ‘¤"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-black text-white uppercase tracking-tighter italic",children:["@",k.name]}),(0,t.jsx)("span",{className:"text-[10px] text-green-500 font-black uppercase tracking-[0.2em]",children:"En LÃ­nea"})]})]}),(0,t.jsx)("div",{className:"flex gap-3",children:(0,t.jsx)("button",{className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center text-zinc-400 hover:bg-white/10 transition-colors",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l2.27-2.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})})})]}),(0,t.jsx)("div",{ref:L,className:"flex-1 p-6 md:p-10 overflow-y-auto space-y-6 custom-scrollbar bg-[url('https://www.transparenttextures.com/patterns/dark-matter.png')] bg-fixed",children:B?(0,t.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,t.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):(j[k.id]||[]).map(e=>(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex flex-col ${"Yo"===e.sender?"items-end":"items-start"}`,children:[(0,t.jsxs)("div",{className:`max-w-[85%] md:max-w-[70%] px-5 py-3 rounded-2xl text-sm font-medium shadow-2xl relative ${"Yo"===e.sender?"bg-blue-600 text-white rounded-tr-none":"bg-zinc-800 text-white rounded-tl-none border border-white/5"}`,children:[e.text,e.isEncrypted&&(0,t.jsx)("span",{className:"absolute -bottom-1 -right-1 text-[8px] opacity-30",children:"ðŸ”’"})]}),(0,t.jsx)("span",{className:"text-[9px] font-black text-zinc-600 mt-2 uppercase tracking-widest",children:e.time})]},e.id))}),(0,t.jsx)("div",{className:"p-4 md:p-8 bg-zinc-900 border-t border-white/5",children:(0,t.jsxs)("form",{onSubmit:F,className:"flex gap-4 max-w-4xl mx-auto",children:[(0,t.jsx)("input",{type:"text",value:N,onChange:e=>z(e.target.value),placeholder:"Escribe un mensaje aquÃ­...",className:"flex-1 bg-black border border-white/10 rounded-2xl px-6 py-4 text-sm outline-none focus:ring-2 ring-blue-500/30 text-white placeholder:text-zinc-600 font-medium"}),(0,t.jsx)("button",{type:"submit",disabled:!N.trim(),className:"bg-blue-600 text-white w-14 h-14 rounded-2xl flex items-center justify-center hover:bg-blue-700 transition-all shadow-xl shadow-blue-500/20 disabled:grayscale disabled:opacity-50 active:scale-90",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"m22 2-7 20-4-9-9-4Z"}),(0,t.jsx)("path",{d:"M22 2 11 13"})]})})]})})]}):(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center p-12 text-center bg-black/40",children:[(0,t.jsx)(a.motion.div,{animate:{scale:[1,1.1,1]},transition:{repeat:1/0,duration:3},className:"text-[120px] mb-8 grayscale opacity-20",children:"ðŸ’¬"}),(0,t.jsx)("h3",{className:"text-3xl font-black text-white uppercase tracking-tighter italic",children:"Selecciona un Chat"}),(0,t.jsx)("p",{className:"text-zinc-500 mt-4 max-w-xs font-medium italic",children:"Toca el nombre de un amigo a la izquierda para empezar a parchar."})]})})]})}),(0,t.jsx)(i.default,{})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center p-6 text-center",children:[(0,t.jsx)(s.default,{}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6 max-w-sm",children:[(0,t.jsx)("span",{className:"text-8xl block",children:"ðŸ”’"}),(0,t.jsx)("h2",{className:"text-3xl font-black text-white uppercase italic tracking-tighter",children:"Inicia SesiÃ³n"}),(0,t.jsx)("p",{className:"text-zinc-500 font-medium",children:"Debes estar logueado para parchar con tus amigos en el chat privado."}),(0,t.jsx)("a",{href:"/profile",className:"block w-full py-4 bg-blue-600 text-white rounded-2xl font-black uppercase tracking-widest text-[10px] shadow-xl shadow-blue-500/20 active:scale-95 transition-all",children:"Ir al Perfil"})]}),(0,t.jsx)(i.default,{})]})}e.s(["default",()=>f],85916)}]);