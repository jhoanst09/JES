(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7746,t=>{"use strict";var e=t.i(60393);async function a({hostId:t,productHandle:a,productName:s,productPrice:r,productImage:i,targetAmount:o}){let{data:c,error:n}=await e.supabase.from("vaca_pools").insert({host_id:t,product_handle:a,product_name:s,product_price:r,product_image:i,target_amount:o,current_amount:0,status:"active"}).select().single();if(n)throw n;return c}async function s(){let{data:t,error:a}=await e.supabase.from("vaca_pools").select(`
            *,
            host:profiles(name, avatar_url),
            contributions:vaca_contributions(amount)
        `).eq("status","active").order("created_at",{ascending:!1});if(a)throw a;return t||[]}async function r(t,a){let{data:s,error:r}=await e.supabase.from("vaca_pools").select("*").eq("host_id",t).eq("product_handle",a).eq("status","active").maybeSingle();if(r)throw r;return s}async function i(t,a,s){let{error:r}=await e.supabase.from("vaca_contributions").insert({pool_id:t,contributor_id:a,amount:s});if(r)throw r;let{data:i}=await e.supabase.from("vaca_pools").select("current_amount, target_amount").eq("id",t).single(),o=Number(i.current_amount)+Number(s),c={current_amount:o,status:o>=i.target_amount?"completed":"active"},{error:n}=await e.supabase.from("vaca_pools").update(c).eq("id",t);if(n)throw n;return!0}t.s(["contributeToVaca",()=>i,"createVacaPool",()=>a,"getActiveVacaPools",()=>s,"getPoolByProduct",()=>r])},55869,t=>{"use strict";var e=t.i(43476),a=t.i(71645),s=t.i(16619),r=t.i(71652),i=t.i(22902),o=t.i(60393),c=t.i(7746),n=t.i(65375),l=t.i(22016);function u(){let[t,u]=(0,a.useState)([]),[d,m]=(0,a.useState)([]),[p,h]=(0,a.useState)(!0),[f,x]=(0,a.useState)(null),{following:b,toggleFollow:g,isLoggedIn:_,socialLoading:v}=(0,n.useWishlist)();return(0,a.useEffect)(()=>{!async function(){h(!0);try{let[t,e]=await Promise.all([(0,o.getPublicProfiles)(),(0,c.getActiveVacaPools)()]);u(t),m(e)}catch(t){console.error("Error loading community content:",t)}finally{h(!1)}}()},[]),(0,e.jsxs)("div",{className:"min-h-screen bg-zinc-50 dark:bg-black text-zinc-900 dark:text-white transition-colors duration-300",children:[(0,e.jsx)(s.default,{}),(0,e.jsxs)("main",{className:"pt-32 pb-20 px-6 max-w-7xl mx-auto space-y-16",children:[(0,e.jsx)("header",{className:"space-y-4",children:(0,e.jsxs)("h1",{className:"text-6xl md:text-8xl font-black uppercase tracking-tighter italic",children:["La ",(0,e.jsx)("span",{className:"text-orange-500",children:"Comunidad"})]})}),(0,e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:p?[...Array(6)].map((t,a)=>(0,e.jsx)("div",{className:"h-64 bg-zinc-900/50 rounded-[32px] animate-pulse"},a)):t.map(t=>(0,e.jsxs)("div",{className:"bg-zinc-900 border border-white/5 rounded-[40px] p-8",children:[(0,e.jsx)("h3",{className:"font-black text-xl text-white",children:t.name||"AnÃ³nimo"}),(0,e.jsx)(l.default,{href:`/wishlist?user=${t.id}`,className:"mt-4 block text-center py-2 bg-white/5 rounded-xl text-xs uppercase font-bold",children:"Ver Perfil"})]},t.id))})]}),(0,e.jsx)(r.default,{}),(0,e.jsx)(i.default,{})]})}t.s(["default",()=>u])}]);